"use strict";exports.id=39,exports.ids=[39],exports.modules={3299:(e,t,a)=>{a.r(t),a.d(t,{default:()=>components_UserAccountNav});var s=a(784),r=a(9885),n=a(1085),i=a(7389),o=a(467);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...i},l)=>{let c=r?n.g7:"button";return s.jsx(c,{className:(0,o.cn)(d({variant:t,size:a,className:e})),ref:l,...i})});l.displayName="Button";var c=a(1676),m=a(1922),u=a(1264),f=a(4151);let p=c.fC,x=c.xz;c.ZA,c.Uv,c.Tr,c.Ee;let g=r.forwardRef(({className:e,inset:t,children:a,...r},n)=>(0,s.jsxs)(c.fF,{ref:n,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[a,s.jsx(m.Z,{className:"ml-auto h-4 w-4"})]}));g.displayName=c.fF.displayName;let h=r.forwardRef(({className:e,...t},a)=>s.jsx(c.tu,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));h.displayName=c.tu.displayName;let v=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(c.Uv,{children:s.jsx(c.VY,{ref:r,sideOffset:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));v.displayName=c.VY.displayName;let b=r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(c.ck,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));b.displayName=c.ck.displayName;let y=r.forwardRef(({className:e,children:t,checked:a,...r},n)=>(0,s.jsxs)(c.oC,{ref:n,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(c.wU,{children:s.jsx(u.Z,{className:"h-4 w-4"})})}),t]}));y.displayName=c.oC.displayName;let N=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(c.Rk,{ref:r,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(c.wU,{children:s.jsx(f.Z,{className:"h-2 w-2 fill-current"})})}),t]}));N.displayName=c.Rk.displayName;let j=r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(c.__,{ref:r,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));j.displayName=c.__.displayName;let w=r.forwardRef(({className:e,...t},a)=>s.jsx(c.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));w.displayName=c.Z0.displayName;var _=a(1440),k=a.n(_),z=a(7114),R=a(9941);let useAuth=()=>{let e=(0,z.useRouter)(),signOut=async()=>{try{let t=await fetch("http://10.131.135.30:3000/api/users/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error();R.toast.success("Signed out successfully"),e.push("/sign-in"),e.refresh()}catch(e){R.toast.error("Couldn't sign out, please try again.")}};return{signOut}};var A=a(2385);let components_UserAccountNav=({user:e})=>{let{signOut:t}=useAuth();return(0,s.jsxs)(s.Fragment,{children:[e&&"superadmin"===e.role?s.jsx(k(),{href:"/admin",rel:"noopener noreferrer",target:"_blank",children:s.jsx(l,{variant:"ghost",size:"sm",className:"relative",children:"Go to Admin"})}):s.jsx(k(),{href:"/admin",rel:"noopener noreferrer",target:"_blank",children:s.jsx("div",{className:"flex items-center",children:(0,s.jsxs)("button",{className:"relative p-[3px]",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-zinc-600 to-zinc-500 rounded-lg"}),(0,s.jsxs)("div",{className:"px-2 py-2 bg-zinc-950 rounded-[6px] relative group transition duration-200 text-white text-sm hover:bg-transparent flex items-center",children:[s.jsx(A.Z,{className:"animate-pulse h-5"})," New Inspection"]})]})})}),(0,s.jsxs)(p,{children:[s.jsx(x,{asChild:!0,className:"overflow-visible",children:s.jsx(l,{variant:"ghost",size:"sm",className:"relative",children:"My account"})}),(0,s.jsxs)(v,{className:"bg-white w-60",align:"end",children:[s.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:s.jsx("div",{className:"flex flex-col space-y-0.5 leading-none",children:s.jsx("p",{className:"font-medium text-sm text-black",children:e.email})})}),s.jsx(w,{}),s.jsx(b,{onClick:t,className:"cursor-pointer",children:"Log out"})]})]})]})}},467:(e,t,a)=>{a.d(t,{cn:()=>cn});var s=a(566),r=a(8126);function cn(...e){return(0,r.m6)((0,s.W)(e))}},4902:(e,t,a)=>{a.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(4656),r=a(2974);let __WEBPACK_DEFAULT_EXPORT__=({className:e,children:t})=>s.jsx("div",{className:(0,r.cn)("mx-auto w-full max-w-screen-3xl px-2.5 md:px-20",e),children:t})},3835:(e,t,a)=>{a.d(t,{Z:()=>j});var s=a(4656),r=a(4353),n=a.n(r),i=a(4902),o=a(8639),d=a.n(o);let l={Logo:()=>s.jsx(d(),{src:"/logo.png",width:50,height:50,alt:"Logo",style:{width:"50px",height:"50px"}})};var c=a(3542),m=a(9471),u=a(7512),f=a(2974);let p=(0,u.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=c.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...n},i)=>{let o=r?m.g7:"button";return s.jsx(o,{className:(0,f.cn)(p({variant:t,size:a,className:e})),ref:i,...n})});x.displayName="Button";let getServerSideUser=async e=>{let t=e.get("payload-token")?.value,a=await fetch("http://10.131.135.30:3000/api/users/me",{headers:{Authorization:`JWT ${t}`}}),{user:s}=await a.json();return{user:s}};var g=a(4596),h=a(5153);let v=(0,h.createProxy)(String.raw`C:\Users\85117049\Downloads\live-safety-trigger-main\live-safety-trigger-main\src\components\UserAccountNav.tsx`),{__esModule:b,$$typeof:y}=v,N=v.default,Navbar=async()=>{let e=(0,g.cookies)(),{user:t}=await getServerSideUser(e);return s.jsx("div",{className:"bg-white sticky z-50 top-0 inset-x-0 h-16",children:s.jsx("header",{className:"relative bg-white",children:s.jsx(i.Z,{children:s.jsx("div",{className:"border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex h-16 items-center",children:[s.jsx("div",{className:"ml-4 flex lg:ml-0",children:s.jsx(n(),{href:"/Home",children:s.jsx(l.Logo,{})})}),s.jsx("span",{className:"text-md font-semibold ml-2",children:"Factory Digital Screens Overview"})," ",s.jsx("div",{className:"ml-auto flex items-center",children:(0,s.jsxs)("div",{className:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6",children:[t?null:s.jsx(n(),{href:"/sign-in",className:p({variant:"ghost"}),children:"Sign in"}),t?null:s.jsx("span",{className:"h-6 w-px bg-gray-200","aria-hidden":"true"}),t?s.jsx(N,{user:t}):"",t?s.jsx("span",{className:"h-6 w-px bg-gray-200","aria-hidden":"true"}):null,t?null:s.jsx("div",{className:"flex lg:ml-6",children:s.jsx("span",{className:"h-6 w-px bg-gray-200","aria-hidden":"true"})})]})})]})})})})})},j=Navbar},9451:(e,t,a)=>{a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(8531);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};